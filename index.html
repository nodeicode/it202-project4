<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Project 4</title>
  <link href="https://unpkg.com/material-components-web@v4.0.0/dist/material-components-web.min.css" rel="stylesheet">
  <script src="https://unpkg.com/material-components-web@v4.0.0/dist/material-components-web.min.js"></script>
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

  <style>
    :root {
      --mdc-theme-primary: navy;
    }

    body {margin: 0;}
    main {margin-left: 8px;}
    .view{display:none;}
    .view#Home{display:block;}
      .mdc-text-field{
          width:100%;
      }
      #adC{
          padding-left:12px;
          padding-top:10px;
      }
      #temp{
          display:none;
      }
  </style>

  </head>
  <body class="mdc-typography">  
<header class="mdc-top-app-bar">
  <div class="mdc-top-app-bar__row">
    <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start">
      <span class="mdc-top-app-bar__title">COVID-19 Chart Data</span>
    </section>
    <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-end" role="toolbar">
      <button class="material-icons mdc-top-app-bar__action-item mdc-icon-button" aria-label="Home">home</button>
      <button class="material-icons mdc-top-app-bar__action-item mdc-icon-button" aria-label="Search">search</button>
      <button class="material-icons mdc-top-app-bar__action-item mdc-icon-button" aria-label="Table">table_chart</button>
      <button class="material-icons mdc-top-app-bar__action-item mdc-icon-button" aria-label="Show Table">show_chart</button>
    </section>
  </div>
</header>

      


  <main class="mdc-top-app-bar--fixed-adjust">
      <div class="view" content="Home" id="Home">
      <h1 class="mdc-typography--headline2">Home</h1>
       <p class="mdc-typography--Body1"> This info is taken from
          <a href="https://pomber.github.io/covid19/timeseries.json">https://pomber.github.io/covid19/timeseries.json</a>
          </p>
      </div>
    <div class="view" content="Search" id="Search">
      <h1 class="mdc-typography--headline2">Search</h1>
       <div class="mdc-text-field">
           <input class="mdc-text-field__input" id="text-field-hero-input" list="countries">
        </div>
        
<datalist id="countries">
        <option value="Afghanistan" />
        <option value="Albania" />
        <option value="Algeria" />
        <option value="American Samoa" />
        <option value="Andorra" />
        <option value="Angola" />
        <option value="Anguilla" />
        <option value="Antarctica" />
        <option value="Antigua and Barbuda" />
        <option value="Argentina" />
        <option value="Armenia" />
        <option value="Aruba" />
        <option value="Australia" />
        <option value="Austria" />
        <option value="Azerbaijan" />
        <option value="Bahamas" />
        <option value="Bahrain" />
        <option value="Bangladesh" />
        <option value="Barbados" />
        <option value="Belarus" />
        <option value="Belgium" />
        <option value="Belize" />
        <option value="Benin" />
        <option value="Bermuda" />
        <option value="Bhutan" />
        <option value="Bolivia" />
        <option value="Bosnia and Herzegovina" />
        <option value="Botswana" />
        <option value="Bouvet Island" />
        <option value="Brazil" />
        <option value="British Indian Ocean Territory" />
        <option value="Brunei Darussalam" />
        <option value="Bulgaria" />
        <option value="Burkina Faso" />
        <option value="Burundi" />
        <option value="Cambodia" />
        <option value="Cameroon" />
        <option value="Canada" />
        <option value="Cape Verde" />
        <option value="Cayman Islands" />
        <option value="Central African Republic" />
        <option value="Chad" />
        <option value="Chile" />
        <option value="China" />
        <option value="Christmas Island" />
        <option value="Cocos (Keeling) Islands" />
        <option value="Colombia" />
        <option value="Comoros" />
        <option value="Congo" />
        <option value="Congo, The Democratic Republic of The" />
        <option value="Cook Islands" />
        <option value="Costa Rica" />
        <option value="Cote D'ivoire" />
        <option value="Croatia" />
        <option value="Cuba" />
        <option value="Cyprus" />
        <option value="Czech Republic" />
        <option value="Denmark" />
        <option value="Djibouti" />
        <option value="Dominica" />
        <option value="Dominican Republic" />
        <option value="Ecuador" />
        <option value="Egypt" />
        <option value="El Salvador" />
        <option value="Equatorial Guinea" />
        <option value="Eritrea" />
        <option value="Estonia" />
        <option value="Ethiopia" />
        <option value="Falkland Islands (Malvinas)" />
        <option value="Faroe Islands" />
        <option value="Fiji" />
        <option value="Finland" />
        <option value="France" />
        <option value="French Guiana" />
        <option value="French Polynesia" />
        <option value="French Southern Territories" />
        <option value="Gabon" />
        <option value="Gambia" />
        <option value="Georgia" />
        <option value="Germany" />
        <option value="Ghana" />
        <option value="Gibraltar" />
        <option value="Greece" />
        <option value="Greenland" />
        <option value="Grenada" />
        <option value="Guadeloupe" />
        <option value="Guam" />
        <option value="Guatemala" />
        <option value="Guinea" />
        <option value="Guinea-bissau" />
        <option value="Guyana" />
        <option value="Haiti" />
        <option value="Heard Island and Mcdonald Islands" />
        <option value="Holy See (Vatican City State)" />
        <option value="Honduras" />
        <option value="Hong Kong" />
        <option value="Hungary" />
        <option value="Iceland" />
        <option value="India" />
        <option value="Indonesia" />
        <option value="Iran, Islamic Republic of" />
        <option value="Iraq" />
        <option value="Ireland" />
        <option value="Israel" />
        <option value="Italy" />
        <option value="Jamaica" />
        <option value="Japan" />
        <option value="Jordan" />
        <option value="Kazakhstan" />
        <option value="Kenya" />
        <option value="Kiribati" />
        <option value="Korea, Democratic People's Republic of" />
        <option value="Korea, Republic of" />
        <option value="Kuwait" />
        <option value="Kyrgyzstan" />
        <option value="Lao People's Democratic Republic" />
        <option value="Latvia" />
        <option value="Lebanon" />
        <option value="Lesotho" />
        <option value="Liberia" />
        <option value="Libyan Arab Jamahiriya" />
        <option value="Liechtenstein" />
        <option value="Lithuania" />
        <option value="Luxembourg" />
        <option value="Macao" />
        <option value="Macedonia, The Former Yugoslav Republic of" />
        <option value="Madagascar" />
        <option value="Malawi" />
        <option value="Malaysia" />
        <option value="Maldives" />
        <option value="Mali" />
        <option value="Malta" />
        <option value="Marshall Islands" />
        <option value="Martinique" />
        <option value="Mauritania" />
        <option value="Mauritius" />
        <option value="Mayotte" />
        <option value="Mexico" />
        <option value="Micronesia, Federated States of" />
        <option value="Moldova, Republic of" />
        <option value="Monaco" />
        <option value="Mongolia" />
        <option value="Montserrat" />
        <option value="Morocco" />
        <option value="Mozambique" />
        <option value="Myanmar" />
        <option value="Namibia" />
        <option value="Nauru" />
        <option value="Nepal" />
        <option value="Netherlands" />
        <option value="Netherlands Antilles" />
        <option value="New Caledonia" />
        <option value="New Zealand" />
        <option value="Nicaragua" />
        <option value="Niger" />
        <option value="Nigeria" />
        <option value="Niue" />
        <option value="Norfolk Island" />
        <option value="Northern Mariana Islands" />
        <option value="Norway" />
        <option value="Oman" />
        <option value="Pakistan" />
        <option value="Palau" />
        <option value="Palestinian Territory, Occupied" />
        <option value="Panama" />
        <option value="Papua New Guinea" />
        <option value="Paraguay" />
        <option value="Peru" />
        <option value="Philippines" />
        <option value="Pitcairn" />
        <option value="Poland" />
        <option value="Portugal" />
        <option value="Puerto Rico" />
        <option value="Qatar" />
        <option value="Reunion" />
        <option value="Romania" />
        <option value="Russian Federation" />
        <option value="Rwanda" />
        <option value="Saint Helena" />
        <option value="Saint Kitts and Nevis" />
        <option value="Saint Lucia" />
        <option value="Saint Pierre and Miquelon" />
        <option value="Saint Vincent and The Grenadines" />
        <option value="Samoa" />
        <option value="San Marino" />
        <option value="Sao Tome and Principe" />
        <option value="Saudi Arabia" />
        <option value="Senegal" />
        <option value="Serbia and Montenegro" />
        <option value="Seychelles" />
        <option value="Sierra Leone" />
        <option value="Singapore" />
        <option value="Slovakia" />
        <option value="Slovenia" />
        <option value="Solomon Islands" />
        <option value="Somalia" />
        <option value="South Africa" />
        <option value="South Georgia and The South Sandwich Islands" />
        <option value="Spain" />
        <option value="Sri Lanka" />
        <option value="Sudan" />
        <option value="Suriname" />
        <option value="Svalbard and Jan Mayen" />
        <option value="Swaziland" />
        <option value="Sweden" />
        <option value="Switzerland" />
        <option value="Syrian Arab Republic" />
        <option value="Taiwan, Province of China" />
        <option value="Tajikistan" />
        <option value="Tanzania, United Republic of" />
        <option value="Thailand" />
        <option value="Timor-leste" />
        <option value="Togo" />
        <option value="Tokelau" />
        <option value="Tonga" />
        <option value="Trinidad and Tobago" />
        <option value="Tunisia" />
        <option value="Turkey" />
        <option value="Turkmenistan" />
        <option value="Turks and Caicos Islands" />
        <option value="Tuvalu" />
        <option value="Uganda" />
        <option value="Ukraine" />
        <option value="United Arab Emirates" />
        <option value="United Kingdom" />
        <option value="United States" />
        <option value="United States Minor Outlying Islands" />
        <option value="Uruguay" />
        <option value="Uzbekistan" />
        <option value="Vanuatu" />
        <option value="Venezuela" />
        <option value="Viet Nam" />
        <option value="Virgin Islands, British" />
        <option value="Virgin Islands, U.S" />
        <option value="Wallis and Futuna" />
        <option value="Western Sahara" />
        <option value="Yemen" />
        <option value="Zambia" />
        <option value="Zimbabwe" />
</datalist>

 <button class="mdc-button" id="adC">
  <div class="mdc-button__ripple"></div>
  <span class="mdc-button__label">Add Country</span>
</button>
<p id="cl"></p>
<button class="mdc-button" id="chC">
  <div class="mdc-button__ripple"></div>
  <span class="mdc-button__label">Chart Countries</span>
</button>
    </div>
      
<div class="view" content="Table"id="Table">
        
    <!-- Actual Table Code -->
      <h1 class="mdc-typography--headline2">Table</h1>
        <div class="mdc-data-table">
  <table class="mdc-data-table__table" aria-label="Dessert calories">
    <thead>
      <tr class="mdc-data-table__header-row">
          <th class="mdc-data-table__header-cell" role="columnheader" id="temp" scope="col"></th>
          <th class="mdc-data-table__header-cell mdc-data-table__header-cell--numeric" id="temp" role="columnheader" scope="col"></th>
      </tr>
    </thead>
      <tbody class="mdc-data-table__content">
        <tr id="temp" class="mdc-data-table__row">
            <td class="mdc-data-table__cell"></td>
            <td class="mdc-data-table__cell mdc-data-table__cell--numeric"></td>
        </tr>  
      </tbody>
      </table>
      </div>
      </div>
      
    <div class="view " content="Chart"id="Chart">
      <h1 class="mdc-typography--headline2">Chart</h1>
      </div>
  </main>
      
  
      <script>
    mdc.topAppBar.MDCTopAppBar.attachTo(document.querySelector('header.mdc-top-app-bar'));
    document.querySelectorAll('.mdc-top-app-bar__section--align-end button').forEach(item=>{
        item.addEventListener("click",(event)=>{
            if(item.textContent=="home"){
                document.querySelectorAll('.view').forEach(item=>{
                    item.style.display="none";
                })
                document.querySelector('.view#Home').style.display="block";
            }
            if(item.textContent=="search"){
                document.querySelectorAll('.view').forEach(item=>{
                    item.style.display="none";
                })
                document.querySelector('.view#Search').style.display="block";
            }
            if(item.textContent=="table_chart"){
                document.querySelectorAll('.view').forEach(item=>{
                    item.style.display="none";
                })
                document.querySelector('.view#Table').style.display="block";
            }
            if(item.textContent=="show_chart"){
                document.querySelectorAll('.view').forEach(item=>{
                    item.style.display="none";
                })
                document.querySelector('.view#Chart').style.display="block";
            }
        })
    });
    var c = [];
    var data=[];
      document.querySelector('#adC').addEventListener("click",event=>{
          c.push(document.querySelector('.mdc-text-field__input').value);
          var a = "List: ";
          for(var i=0;i<c.length;i++){
             a=a.concat(c[i]+", "); }
         document.querySelector('#cl').textContent =a;
      })
      
      document.querySelector('#chC').addEventListener("click",even=>{
              fetch("https://pomber.github.io/covid19/timeseries.json")
                  .then(response => response.json())
                  .then(d => {
                  data=[];
                    for(var i=0;i<c.length;i++){
                        data.push(d[c[i]]);
                    }
                  
                  var h = document.querySelector('.mdc-data-table__header-row');
          for(var i=5;i<h.childNodes.length;i+=2){
              h.removeChild(h.childNodes[i]);
          }
          var b = document.querySelector('.mdc-data-table__content');
          for(var i=3;i<b.childNodes.length;i+=2){
              b.removeChild(b.childNodes[i]);
          }
          
          var d = document.querySelector('#temp.mdc-data-table__header-cell');
          d.removeAttribute('id');
          d.innerHTML ="Date";
          document.querySelector('.mdc-data-table__header-row').appendChild(d);
          
          
          var or =  document.querySelector('#temp.mdc-data-table__header-cell--numeric');
          for(var i=0;i<c.length;i++){
              var n = or.cloneNode(true);
              n.removeAttribute('id');
              n.innerHTML = c[i];
              document.querySelector('.mdc-data-table__header-row').appendChild(n);
          }
          var nr = document.querySelector('#temp.mdc-data-table__row').cloneNode(true);
          
          for(var i=0;i<data[0].length;i++){
              var n = nr.cloneNode(true);
              n.removeAttribute('id');
              n.childNodes[1].innerHTML = data[0][0].date;
              var co = n.childNodes[3]
              for(var j =0;j<data.length;j++){
              var ct = co.cloneNode(true);
              ct.innerHTML = data[j][i].confirmed;
              n.appendChild(ct);
              }
              n.removeChild(n.childNodes[3]);
              document.querySelector('.mdc-data-table__content').appendChild(n);
          }
                  
                   });
         
          
       });
        
    </script>
  </body>
</html>